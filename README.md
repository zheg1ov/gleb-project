<img width="1920" height="800" alt="image" src="https://github.com/user-attachments/assets/0e844961-1d03-4e44-bce6-61a0d42b10e2" /> <br />
# Датасет waterQuality<br />
[Link on data set](https://drive.google.com/file/d/1HXu3s_EKOPQ2Yk_FeNyw8PsIu3mWr8Te/view?usp=drive_link)<br />
<br />
В этом датасете собраны показатели воды по содержанию химических элементов в нем и целевая переменная - безопасна ли вода для употребления. Значение безопасности воды зависит от каждого параметра независимо друг от друга и вода может быть опасна при превышении нормы одного параметра, даже если остальные в порядке. Естественно в самом датасете эти нормы не указаны, но для оценки я приведу:<br />

* aluminium - опасная если превышает 2.8
* ammonia - опасная если превышает 32.5
* arsenic - опасная если превышает 0.01
* barium - опасная если превышает 2
* cadmium - опасная если превышает 0.005
* chloramine - опасная если превышает 4
* chromium - опасная если превышает 0.1
* copper - опасная если превышает 1.3
* flouride - опасная если превышает 1.5
* bacteria - опасная если превышает 0
* viruses - опасная если превышает 0
* lead - опасная если превышает 0.015
* nitrates - опасная если превышает 10
* nitrites - опасная если превышает 1
* mercury - опасная если превышает 0.002
* perchlorate - опасная если превышает 56
* radium - опасная если превышает 5
* selenium - опасная если превышает 0.5
* silver - опасная если превышает 0.1
* uranium - опасная если превышает 0.3
* is_safe - target variable {0 - не безопасно пить 1 - безопасно пить drink}

## Задачи проекта

- Предсказание ухода сотрудников (классификация)
- Анализ факторов риска текучести
- Сегментация сотрудников по уровню риска
- Генерация HR-инсайтов для удержания персонала

## Структура объекта
```
gleb-project/
├── etl/                           # Пакет ETL (Extract, Transform, Load)
│   ├── data_loader.py             # загружает датанные и показывает первые 100 строк
│   └── load.py                    # Выгрузка до 100 строк в БД
├── example/   
│   ├── api_example/               # Примеры работы с API
│   │    ├── README.md             # Описание работы с API
│   │    └── api_reader.py         # Скрипт для чтения данных из API
│   └──  parse_example/            # Примеры работы с парсингом данных
│        ├── README.md             # Описание работы
│        └── data_parser.py        # Скрипт для чтения данных с сайта
├── media/                         # Изображения для проекта
│   ├── dz2screenshot.png
│   └── dz4.png
├── notebooks/                     # Jupyter ноутбуки
│   ├── EDA.ipynb                  # Исследовательский анализ данных
│   └── README.md                  # Описание ноутбуков и их содержания
├── .gitignore                     # Игнорируемые файлы и папки 
├── README.md                      # Основной README проекта
├── environment.yml                # Описание Conda окружения
├── pyproject.toml                 # Конфигурация Poetry/проекта
└── requirements.txt               # Список зависимостей Python 
```

## Руководство по запууску
1. Подготовка окружения </p>
Убедитесь, что ваше окружение data-eng активно:
```
conda activate data-eng
```
2. Установка необходимых компонентов </p>
Используйте Poetry для установки всех зависимостей проекта:
```
poetry install
```
3. Настройка переменных </p>
Этот шаг требуется только при первом запуске. Установите FILE_ID для доступа к данным:
```
conda env config vars set FILE_ID=1BlN2qCu0WEVX6rHUBQw56wsljv7kqaJQ
```
После этого повторно активируйте окружение, чтобы изменения вступили в силу:
```
conda activate myenv
```
4. Запуск скрипта </p>
Теперь вы можете запустить скрипт загрузки данных:
```
poetry run python data_loader.py
```

## Первые 10 строк данных
![Описание](/media/dz2screenshot.png)

## ETL Package
Пакет etl предназначен для автоматизации процесса извлечения, преобразования и загрузки данных (ETL):

- load_data.py — загрузка исходных данных из CSV и проверка их целостности
- write_to_db.py — сохранение обработанных данных в формате Parquet (data/processed) и загрузка первых 100 строк в базу PostgreSQL.
Пакет упрощает повторное использование кода и стандартизирует процесс подготовки данных.
## Запуск ETL-пакет
Для запуска пайплайна используйте команду:
 ```
python -m etl.write_to_db.py
```
